#
# {{ ansible_managed }}
#
# This file was generated by Ansible for {{ inventory_hostname }}
# Do NOT modify this file by hand!
#
# The MySQL database server configuration file.
#
[client]
port                    = {{ mysql_port }}
socket                  = {{ mysql_socket }}

# This was formally known as [safe_mysqld]. Both versions are currently parsed.
[mysqld_safe]
socket                  = {{ mysql_socket }}
nice                    = 0

[mysqld]
user                    = mysql
pid-file                = {{ mysql_pid_file }}
socket                  = {{ mysql_socket }}
port                    = {{ mysql_port }}
basedir                 = /usr
datadir                 = {{ mysql_datadir }}
tmpdir                  = /tmp
{% if ansible_os_family == 'Debian' %}
lc-messages-dir         = /usr/share/mysql
{% endif %}
skip-external-locking

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0

bind-address            = {{ mysql_bind_address }}

key_buffer_size         = 16M
max_allowed_packet      = 16M
thread_stack            = 192K
thread_cache_size       = 8

# This replaces the startup script and checks MyISAM tables if needed
# the first time they are touched
myisam-recover          = BACKUP

query_cache_limit       = 1M
query_cache_size        = 16M
log_error               = /var/log/mysql/error.log
server-id               = {{ mysql_server_id|default('1') }}


#
# Additional settings that can override those from this file!
# The files must end with '.cnf', otherwise they'll be ignored.
#
!includedir /etc/mysql/conf.d/
